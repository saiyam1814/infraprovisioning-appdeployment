<mat-horizontal-stepper #stepper class="mathstepper">
    <mat-step [stepControl]="firstFormGroup">
        <!-- <form [formGroup]="firstFormGroup"> -->
        <ng-template matStepLabel>Connect to your Tenancy</ng-template>





        <div class="form-horizontal formC" role="form">
            <h2>Enter the tenancy Details</h2>
            <div>
                <form>
                <div class="example-container">
                    <div class="ec1">
                        <mat-label>Tenancy OCID</mat-label>
                    </div>
                    <div class="ec2">
                        <mat-form-field>
                            <input matInput placeholder="Enter Tenancy OCID">
                        </mat-form-field>
                    </div>
                </div>

                <div class="example-container">
                    <div class="ec1">
                        <mat-label>User OCID</mat-label>
                    </div>
                    <div class="ec2">
                        <mat-form-field>
                            <input matInput placeholder="Enter User OCID">
                        </mat-form-field>
                    </div>
                </div>

                <div class="example-container">
                    <div class="ec1">
                        <mat-label>Fingerprint</mat-label>
                    </div>
                    <div class="ec2">
                        <mat-form-field>
                            <input matInput placeholder="Enter Fingerprint">
                        </mat-form-field>
                    </div>
                </div>

                <div class="example-container">
                    <div class="ec1">
                        <mat-label>Compartment OCID</mat-label>
                    </div>
                    <div class="ec2">
                        <mat-form-field>
                            <input matInput placeholder="Enter Compartment OCID">
                        </mat-form-field>
                    </div>
                </div>

                <div class="example-container">
                    <div class="ec1">
                        <mat-label>Upload SSH private Key</mat-label>
                    </div>
                    <div class="ec2" >
                        <div class="fileupload">
                            <input type="file" name="profile"  (change)="onFileSelect($event)" />
                        </div>

                    </div>
                </div>
                <div class="example-container">
                    <div class="ec1">
                    </div>
                    <div class="ec2">
                        <button mat-raised-button (click)="initiateTenency()">Create Instance</button> </div>
                </div>
            </form>
            </div>



        </div>











        <div>
            <button mat-button matStepperNext color="primary">Next</button>
        </div>
        <!-- </form> -->
    </mat-step>

    <mat-step [stepControl]="secondFormGroup">
        <!-- <form [formGroup]="firstFormGroup"> -->
        <ng-template matStepLabel>Create OKE Cluster</ng-template>


        <h2></h2>
        <label id="example-radio-group-label">Do you want to create a new cluster ?</label>
        <mat-radio-group aria-label="Select an option" (change)="newCluster()" [(ngModel)]="clustercreate" class="example-radio-group">
            <mat-radio-button class="example-radio-button" value='true'>YES</mat-radio-button>
            <mat-radio-button class="example-radio-button" value='false'>NO</mat-radio-button>
        </mat-radio-group>




        <div class="form-horizontal formC" role="form" *ngIf="createnewCluster">
            <h1>Create Cluster</h1>
            <div class="form-group">
                <div class="example-container">
                    <mat-form-field>
                        <input matInput placeholder="Tenancy OCID">
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder="User OCID"></textarea>
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder="Compartment OCID"></textarea>
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder=" API Private Key"></textarea>
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder="SSH Private OCID"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <textarea matInput placeholder="SSH Public OCID"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <textarea matInput placeholder="API Fingerprint"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <mat-select placeholder="Region">
                            <mat-option value="us-ashburn-1">us-ashburn-1</mat-option>
                        </mat-select>
                    </mat-form-field>


                    <mat-form-field>
                        <mat-select placeholder="Shape">
                            <mat-option value="VM Standard1.1">VM Standard1.1</mat-option>
                        </mat-select>
                    </mat-form-field>



                    <mat-form-field>
                        <textarea matInput placeholder="label Prefix"></textarea>
                    </mat-form-field>



                    <mat-form-field>
                        <textarea matInput placeholder="VCN Dns Name"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <textarea matInput placeholder="VCN CIDR"></textarea>
                    </mat-form-field>

                </div>


            </div>
        </div>

        <div *ngIf="existingcluster" class="formC">

            <div class="form-div">
                <mat-card class="example-card">


                    <div class="example-container-1">
                        <div class="ec1">
                            <mat-label>Select Any Existing Cluster</mat-label>
                        </div>
                        <div class="ec2">
                            <mat-form-field>

                                <mat-select placeholder="Select Existing cluster">
                                    <mat-option value="1">1</mat-option>
                                    <mat-option value="1=2">2</mat-option>
                                </mat-select>

                            </mat-form-field>
                        </div>
                    </div>



                </mat-card>


            </div>
        </div>









        <div>
            <button mat-button matStepperNext color="primary">Next</button>
        </div>
        <!-- </form> -->
    </mat-step>
    <mat-step [stepControl]="thirdFormGroup">
        <!-- <form [formGroup]="firstFormGroup"> -->
        <ng-template matStepLabel>Create OKE Cluster</ng-template>

        <div class="form-horizontal" role="form">
            <div class="form-group">
                <div class="example-container">
                    <mat-form-field>
                        <input matInput placeholder="Tenancy OCID">
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder="User OCID"></textarea>
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder="Compartment OCID"></textarea>
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder=" API Private Key"></textarea>
                    </mat-form-field>

                    <mat-form-field>
                        <textarea matInput placeholder="SSH Private OCID"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <textarea matInput placeholder="SSH Public OCID"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <textarea matInput placeholder="API Fingerprint"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <mat-select placeholder="Region">
                            <mat-option value="us-ashburn-1">us-ashburn-1</mat-option>
                        </mat-select>
                    </mat-form-field>


                    <mat-form-field>
                        <mat-select placeholder="Shape">
                            <mat-option value="VM Standard1.1">VM Standard1.1</mat-option>
                        </mat-select>
                    </mat-form-field>



                    <mat-form-field>
                        <textarea matInput placeholder="label Prefix"></textarea>
                    </mat-form-field>



                    <mat-form-field>
                        <textarea matInput placeholder="VCN Dns Name"></textarea>
                    </mat-form-field>


                    <mat-form-field>
                        <textarea matInput placeholder="VCN CIDR"></textarea>
                    </mat-form-field>

                </div>


            </div>
        </div>
        <div>
            <button mat-button matStepperNext color="primary">Next</button>
        </div>
        <!-- </form> -->
    </mat-step>
    <mat-step [stepControl]="fourthFormGroup">
        <!-- <form [formGroup]="secondFormGroup"> -->
        <ng-template matStepLabel>Create Docker File</ng-template>

        <div class="borderH">
            <div class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="githublink" class="col-md-2 control-label">Project Git Hub Link </label>
                    <div class="col-md-8">
                        <input type="text" class="form-control" id="githublink" name="githublink" placeholder="Git Hub Link"
                            [(ngModel)]="githublink" data-toggle="tooltip" data-placement="right" />
                    </div>
                </div>


                <div class="form-group">
                    <label for="txtfrom" class="col-md-2 control-label">FROM </label>
                    <div class="col-md-8">

                        <input type="text" class="form-control" id="txtfrom" placeholder="Docker Image Name"
                            [(ngModel)]="from" name="txtfrom" data-toggle="tooltip" data-placement="right" title="image name from dockerhub or OCIR repository eg. saiyam911/helidonsentiment or iad.ocir.io/identityname/demo:1.0" />


                    </div>

                </div>
                <div class="form-group">
                    <label for="txtUser" class="col-md-2 control-label">USER </label>
                    <div class="col-md-8">
                        <input type="text" class="form-control" id="txtUser" name="txtUser" placeholder="User, if any"
                            [(ngModel)]="user" data-toggle="tooltip" data-placement="right" title="User with which you want to execute remaining commands keep root if not sure" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="numberexpose" class="col-md-2 control-label">EXPOSE</label>

                    <div class="col-md-8">
                        <input type="number" class="form-control" id="numberexpose" name="numberexpose" placeholder="PORT Number"
                            [(ngModel)]="expose" data-toggle="tooltip" data-placement="right" title="on which port the application will run " />
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtworkdir" class="col-md-2 control-label">WORKDIR</label>
                    <div class="col-md-8">
                        <input type="text" class="form-control" id="txtworkdir" name="txtworkdir" placeholder="workdir"
                            [(ngModel)]="workdir" data-toggle="tooltip" data-placement="right" title="the working directory within the container" />
                    </div>
                </div>
                <div class="form-group">
                    <span>
                        <label for="txtCopyfrom" class="col-md-2 control-label">COPY FROM</label>
                        <div class="col-md-3">
                            <input type="text" class="form-control" id="txtCopyfrom" name="txtCopyfrom" v-model="copyfrom"
                                data-toggle="tooltip" data-placement="right" title="directory from which data has to be copied to the container, give '.' if not sure " />
                        </div>
                    </span>
                    <label for="txtCopyto" class="col-md-2 control-label">COPY TO</label>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="txtCopyto" name="txtCopyto" [(ngModel)]="copyto"
                            data-toggle="tooltip" data-placement="right" title="directory inside the container where the data has to be copiedn keep /app if not sure" />

                    </div>
                </div>
                <div class="form-group">
                    <label for="txtrun" class="col-md-2 control-label">RUN</label>
                    <div class="col-md-8">
                        <!-- <input type="text" class="form-control" id="txtrun" name="txtrun" v-bind:placeholder="Run "
            v-model="run" /> -->

                        <div class="input-group">

                            <span class="input-group-btn inputgrpbtnend">
                                <input type="text" class="form-control" id="txtrun" name="txtrun" placeholder="runcmd"
                                    [(ngModel)]="runcmd" data-toggle="tooltip" data-placement="right" title="the Shell commands to be run within the container.">

                            </span>


                            <button class="btn btn-default addbutton" (click)="addruncmds(runcmd)" type="button">ADD</button>
                            <button class="btn btn-default addbutton" (click)="clear('runcmd')" type="button">CLEAR</button>

                        </div>
                        cmds : {{finalcmd}}


                    </div>
                </div>



                <div class="form-group">
                    <label for="txtcmd" class="col-md-2 control-label">CMD</label>
                    <div class="col-md-8">
                        <!-- <input type="text" class="form-control" id="txtrun" name="txtrun" v-bind:placeholder="Run "
                v-model="run" /> -->

                        <div class="input-group">

                            <span class="input-group-btn inputgrpbtnend">
                                <input type="text" class="form-control" id="txtcmd" name="txtcmd" v-bind:placeholder="cmd"
                                    [(ngModel)]="cmd" data-toggle="tooltip" data-placement="right" title="Command to be execute eg node server.js">

                            </span>


                            <button class="btn btn-default addbutton" (click)="addcmds(cmd)" type="button">ADD</button>
                            <button class="btn btn-default addbutton" (click)="clear('cmd')" type="button">CLEAR</button>

                        </div>
                        cmds : {{finalcmdCMD}}


                    </div>
                </div>

            </div>


        </div>

        <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button matStepperNext>Next</button>
        </div>
        <!-- </form> -->
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>Deploy to OKE</ng-template>
        <div class="borderH">
            <div class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="txtDockerImageName" class="col-md-2 control-label">Docker Image Name:</label>
                    <div class="col-md-8 inputContainer">
                        <span> <input type="text" class="form-control" id="txtDockerImageName" name="txtDockerImageName"
                                v-model="DockerImageName" data-toggle="tooltip" data-placement="right" title="image name from dockerhub or OCIR repository eg. saiyam911/helidonsentiment or iad.ocir.io/identityname/demo:1.0" />
                        </span>

                    </div>

                </div>
                <div class="form-group">
                    <label for="txtContainerCommand" class="col-md-2 control-label">Container Command:</label>
                    <div class="col-md-8 inputContainer">
                        <input type="text" class="form-control" id="txtContainerCommand" name="txtContainerCommand"
                            placeholder="Docker command for container, if any" v-model="ContainerCommand" data-toggle="tooltip"
                            data-placement="right" title="Command needed to run for the container." />
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtContainerArgs" class="col-md-2 control-label">Container Args:</label>

                    <div class="col-md-8 inputContainer">
                        <input type="text" class="form-control" id="txtContainerArgs" name="txtContainerArgs"
                            placeholder="Docker args for container, if any" v-model="ContainerArgs" data-toggle="tooltip"
                            data-placement="right" title="specific arguments for the container." />
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtDeploymentNameOverride" class="col-md-2 control-label">Deployment Name:</label>
                    <div class="col-md-8 inputContainer">
                        <input type="text" class="form-control" id="txtDeploymentNameOverride" name="txtDeploymentNameOverride"
                            v-bind:placeholder="DeploymentName" v-model="DeploymentNameOverride" data-toggle="tooltip"
                            data-placement="right" title="Name of the deployment" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtContainerNameoverride" class="col-md-2 control-label">Container Name:</label>
                    <div class="col-md-8 inputContainer">
                        <input type="text" class="form-control" id="txtContainerNameoverride" name="txtContainerNameoverride"
                            v-bind:placeholder="ContainerName" v-model="ContainerNameOverride" data-toggle="tooltip"
                            data-placement="right" title="Name of the Container" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtAppLabelOverride" class="col-md-2 control-label">App Label:</label>
                    <div class="col-md-8 inputContainer">
                        <input type="text" class="form-control" id="txtAppLabelOverride" name="txtAppLabelOverride"
                            v-bind:placeholder="AppLabel" v-model="AppLabelOverride" data-toggle="tooltip"
                            data-placement="right" title="Application Label " />
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtReplicas" class="col-md-2 control-label">Replicas:</label>
                    <div class="col-md-8 inputContainer">
                        <input type="text" class="form-control" id="txtReplicas" name="txtReplicas" v-model="Replicas"
                            data-toggle="tooltip" data-placement="right" title="Number of replicas to run." />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">Ports:</label>
                    <div class="col-md-8 inputContainer">
                        <div class="panel panel-default">
                            <!-- <div class="panel-heading">
              <h4>Ports</h4>
          </div> -->
                            <div class="panel-body">
                                <div>For Container ports and the port for the service that you want to expose to
                                    outside world</div>
                                <button class="btn btn-primary" v-on:click="addPort"><span class="glyphicon glyphicon-plus"></span>
                                    Add Port</button>

                                <div>&nbsp;</div>
                                <div v-for="port in Ports">
                                    <div class="panel panel-primary">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-lg-6 col-sm-6 col-md-6">
                                                    <div class="input-group">
                                                        <span class="input-group-addon" style=" padding:0 15px;"><button
                                                                v-on:click="deletePort(port)"><span class="glyphicon glyphicon-trash"></span></button>
                                                            Container Port</span>
                                                        <input type="text" class="form-control" v-model="port.ContainerPort" />
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6" style="margin-top: 5px;">
                                                    <input type="checkbox" v-model="port.ExposeViaService" />
                                                    Expose
                                                    Service Port
                                                </div>
                                                <div class="clearfix">&nbsp;</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6" v-show="port.ExposeViaService">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">
                                                            Exposed Port Number
                                                        </span>
                                                        <input type="text" class="form-control" v-model="port.ServicePort"
                                                            placeholder="port #" style="min-width: 50px;" />
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6" v-show="port.ExposeViaService">

                                                    <div class="input-group">
                                                        <span class="input-group-addon">Port Name</span>
                                                        <input type="text" class="form-control" v-model="port.ServicePortName"
                                                            placeholder="Port Name (optional)" />
                                                    </div>

                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6" style=" margin-top:10px;"
                                                    v-show="port.ExposeViaService">
                                                    <div>
                                                        <label for="selProtocol">Protocol</label>
                                                        <select class="form-control" name="selProtocol" ID="selProtocol"
                                                            v-model="port.ServicePortProtocol" style="min-width: 100px;">
                                                            <option value="TCP">TCP</option>
                                                            <option value="UDP">UDP</option>
                                                        </select>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="form-group" v-if="HasOneOrMoreServicePorts">
                    <label class="col-md-2 control-label">Service Information:</label>
                    <div class="col-md-8">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="form-group">
                                    <label for="txtReplicas" class="col-md-3 control-label">Service Name:</label>
                                    <div class="col-md-6">
                                        <input type="txtServiceNameOverride" class="form-control" id="txtServiceNameOverride"
                                            name="txtServiceNameOverride" v-model="ServiceNameOverride"
                                            v-bind:placeholder="ServiceName" data-toggle="tooltip" data-placement="right"
                                            title="Name of the Service" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="selServiceType" class="col-md-3 control-label">Service Type:</label>
                                    <div class="col-md-6">
                                        <select class="form-control" name="selServiceType" ID="selServiceType" v-model="ServiceType"
                                            style="min-width: 100px;">
                                            <option value="ClusterIP">Cluster IP</option>
                                            <option value="NodePort">NodePort</option>
                                            <option value="LoadBalancer">LoadBalancer</option>
                                        </select>
                                    </div>
                                    <div style="display:inline-block">
                                        <div v-if="ServiceType === 'ClusterIP'" class="alert alert-primary">
                                            <strong>ClusterIP</strong> To expose sevice internally within the
                                            cluster.exposes the service on a
                                            It makes the service accessible from within the cluster only.
                                        </div>
                                        <div v-if="ServiceType === 'NodePort'" class="alert alert-primary">
                                            <strong>NodePort</strong> This Exposes the service on each Node's IP with a
                                            random portand the port used
                                            to access the service will be generated in the range of 30000's eg 34212

                                        </div>
                                        <div v-if="ServiceType === 'LoadBalancer'" class="alert alert-primary">
                                            <span class="label label-warning">Cloud Provider Only</span>
                                            <strong>LoadBalancer</strong>
                                            This exposes the service
                                            externally using a cloud provider's load balancer and provide with an
                                            External IP
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>






            </div>
            <div>
                <div class="col-md-2"></div>
                <button mat-raised-button color="primary" (click)="generateYaml">
                    <mat-icon>cloud_download</mat-icon>
                    Generate Yaml
                </button>





            </div>

            <div id="yamldiv" class="col-md-12">
                <div class="col-md-12">
                    <div class="col-md-2"></div>
                    <div class="col-md-4">
                        <h4>Generated YAML</h4>
                        <pre>
      {{DeploymentYaml}}
      <template v-if="HasOneOrMoreServicePorts">---
      {{ServiceYaml}}
      </template>
      </pre>
                    </div>
                </div>
                <div class="col-md-2"></div>
                <button mat-raised-button color="primary" (click)="downloadyaml(DeploymentYaml)">
                    <mat-icon>cloud_download</mat-icon>
                    Download Yaml
                </button>

            </div>
        </div>
        <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button>Submit</button>
            <button mat-button (click)="stepper.reset()">Reset</button>
        </div>
    </mat-step>
</mat-horizontal-stepper>